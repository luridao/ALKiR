{
    "contents" : "\nsink(\"data_import.R\")\n\ncat(paste(\"#-----------------------------------------------\n######\\t\\t DATA-IMPORT\\t\\t #######\n#-----------------------------------------------\\n\\n\"))\n\ncat(paste(\"##--------------------------------------\n######\\t\\t DRIFTS\\t\\t #######\n#---------------------------------------\\n\\n\"))\n\ncat(paste(\"bdrift           <- read.table(\\\"bdrift_alt.lst\\\",header=T)\ncolnames(bdrift) <- tolower(colnames(bdrift))\"))\n\ncat('\\n\\n')\n\ncat(paste(\"#------------------------------------------------------\n######\\t\\t\\t SQL \\t\\t\\t#######\n#------------------------------------------------------\\n\\n\"))\n\n#ora_sid <- scan(\"USER_PWD.txt\",what=\"character\",skip=2,nlines=1)\n#ora_uid <- scan(\"USER_PWD.txt\",what=\"character\",skip=5,nlines=1)\n#ora_pwd <- scan(\"USER_PWD.txt\",what=\"character\",skip=8,nlines=1)\n\ncat(paste(\"library(RODBC)\",'\\n',\n\"conn <- odbcConnect(\\\"\",ora_sid,\"\\\"\",\",\",\"\\\"\",ora_uid,\"\\\"\",\",\",\"\\\"\",ora_pwd,\"\\\"\",\")\",sep=\"\"   ))\n\ncat('\\n\\n')\n\n#cat(paste(\"library(RODBC)\",'\\n',\n#\"conn <- odbcConnect(\\\"basta\\\", uid=\\\"luisr\\\", pwd=\\\"juanayzakarias\\\")\",'\\n\\n'))\n\ncat(paste(\"#------------------------------------------------------\n######\\t\\t ALK (AGE-LENGTH KEY) \\t\\t#######\n#------------------------------------------------------\\n\\n\"))\n\ncat(paste(\"alkAll <- sqlQuery(conn,\\\"select a.slagkoda, a.drift, a.oeki, a.arma, b.bolknr, b.aldur, b.tal\" ,\" \n  FROM bpaldur b, bsyni a\n  WHERE\n  a.synnr=b.synnr and a.arma > \", ArmaS_yvirlit, \" and a.arma < \", ArmaE_yvirlit,\"\n  and a.slagkoda in (\\'\", Slag, \"\\') and a.oeki in (\", Oeki1, \")\n  ORDER by a.arma, b.bolknr, b.aldur\\\")\", sep=\"\"))\n\ncat('\\n\\n')\n\ncat(paste(\"colnames(alkAll)    <- c('slag', 'drift', 'oeki', 'arma', 'bolknr', 'aldur', 'tal')\"))\n\ncat('\\n\\n')\n\ncat(paste(\"##------------------------------------------------------\n######\\t\\t Length frecuency\\t\\t #######\n#-------------------------------------------------------\\n\\n\"))\n\ncat(paste(\"lgdAll <- sqlQuery(conn, \\\"SELECT a.slagkoda, a.drift, a.oeki, a.arma, b.bolknr, tal\n  FROM blongd b, bsyni a\n  WHERE\n  a.synnr=b.synnr and a.slagkoda in (\\'\", Slag, \"\\')\n  and a.arma > \", ArmaS_yvirlit, \" and a.arma < \", ArmaE_yvirlit,\" and a.oeki in (\", Oeki1, \")\n  ORDER BY b.bolknr\\\")\", sep=\"\"))\n\ncat('\\n\\n')\n\ncat(paste(\"colnames(lgdAll) <- c('slag','drift','oeki','arma','longd','sum_matad')\"))\n\ncat('\\n\\n')\n\ncat(paste(\"###-----------------------------------------------------\n######\\t\\t Length-Weight function\\t\\t #######\n#-------------------------------------------------------\\n\\n\"))\n\ncat(paste(\"lgdvektAll <- sqlQuery(conn, \\\"SELECT a.slagkoda, a.drift, a.oeki, a.arma, b.lgd, b.aldur, b.vekt\n  FROM bpeinkv b, bsyni a\n  WHERE\n  a.synnr=b.synnr and a.slagkoda in (\\'\", Slag, \"\\') and a.oeki in (\", Oeki1, \")\n  and a.arma > \", ArmaS_yvirlit, \" and a.arma < \", ArmaE_yvirlit,\"\\\")\", sep=\"\"))\n\ncat('\\n\\n')\n\ncat(paste(\"colnames(lgdvektAll)    <- tolower(colnames(lgdvektAll))\"))\ncat('\\n')\ncat(paste(\"colnames(lgdvektAll)[1] <- 'slag'\"))\n\ncat('\\n\\n')\n\ncat(paste(\"####--------------------------------------------\n######\\t\\t Catch data\\t\\t #######\n#-----------------------------------------------\\n\\n\"))\n\n#if(bveida_data)\n#{\ncat(paste(\"veidaDataAll <- sqlQuery(conn, \\\"SELECT slagkoda, arma, drift, oeki, vekt\n  FROM bveida\n  WHERE\n  arma > \", ArmaS_yvirlit, \" and arma < \", ArmaE_yvirlit,\" and slagkoda in (\\'\", Slag, \"\\')\n  and oeki in (\", Oeki1, \")\n  group by slagkoda, arma, drift, oeki, vekt\n  ORDER BY slagkoda, arma, drift, oeki, vekt\\\")\", sep=\"\"))\n\ncat('\\n\\n')\n\ncat(paste(\"colnames(veidaDataAll)    <- tolower(colnames(veidaDataAll))\"))\ncat('\\n')\ncat(paste(\"colnames(veidaDataAll)[1] <- 'slag'\"))\n#}\n\nsink()\n\n\n\n",
    "created" : 1417182638128.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3292370783",
    "id" : "2EC907EC",
    "lastKnownWriteTime" : 1417444303,
    "path" : "~/Documents/D/ALKiR/do_data_import.R",
    "project_path" : "do_data_import.R",
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}